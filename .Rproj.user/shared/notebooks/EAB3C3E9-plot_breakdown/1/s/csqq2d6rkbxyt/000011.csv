"0","word_preproc <- function(data, N){"
"0","  #N = 69"
"0","  tmp <- data %>% filter(!is.na(.[[N]])) %>% select(., N) %>% dplyr::rename(words = !!names(.)[1]) %>% mutate(words = tolower(words)) %>% "
"0","    #mutate(words = gsub("" \\(or.*"", """", words)) %>% mutate(words = gsub("", or.*"", """", words)) %>% "
"0","    mutate(words = stri_replace_all_regex(words,"
"0","                                  pattern=c("" \\(.*"", "", or.*"", "" across"", "" with"", "" at"", "" by"", "" over"", "" of"", "" per"", ""at"", "" across"", "" accross""),"
"0","                                  replacement=c(''),"
"0","                                  vectorize=FALSE))"
"0","     "
"0","  t <- foreach(i = 1:nrow(tmp)) %do% tokenize_words(tmp$words)"
"0","  stop_list = c(""a"", ""an"", ""the"", ""wise"", ""like"", ""s"")"
"0","  t2 <- foreach(i = 1:length(t)) %do% t[[1]][[i]][!(t[[1]][[i]] %in% stop_list)]"
"0","  #t21 <- foreach(i = 1:length(t2)) %do% map(t2[i][[1]], singularize)"
"0","  t3 <- foreach(i = 1:length(t2)) %do% paste(sort(unlist(t2[i])), collapse = ' ') "
"0","  t4 <- data.frame(matrix(t3)) %>% dplyr::rename(words = !!names(.)[1])"
"0","  return(t4)"
"0","}"
"0",""
