{
  "hash": "10d1d44051f7df416e67583ab182cd00",
  "result": {
    "markdown": "---\ntitle: \"user_study\"\nformat: html\neditor: visual\n---\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# upload to the git 1\nlibrary(readxl)\nlibrary(foreach)\nlibrary(stringr)\nlibrary(dplyr)\nlibrary(tokenizers)\nlibrary(data.table)\nlibrary(ggplot2)\nlibrary(plyr)\nlibrary(quanteda)\nlibrary(SemNetCleaner)\nlibrary(purrr)\nlibrary(tidytext)\nlibrary(tm)\nlibrary(topicmodels)\nlibrary(SnowballC)\nlibrary(Matrix)\nlibrary(text2vec)\nlibrary(tidyr)\nlibrary(janitor)\nlibrary(GGally)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- read_excel(\"data/results-survey3.xlsx\")\ndata <- data[1:121] %>% \n  filter(.[[18]] !='Yes') # not analysed any EEG method\n```\n:::\n\n\n## Up or down\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\n## Experience ~ tools \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvec <- names(data[25:49]) %>% str_split_i(., \"\\\\[\", 2) %>%  str_sub(., 1, -2)\n\nsoftware <- data[25:49] %>%\n    rename_at(vars(colnames(.)), ~ vec) %>% \n  mutate_at(vars(vec), function(., na.rm = FALSE) (x = ifelse(.==\"Yes\", 1, 0))) %>% \n  cbind(data[20], .) %>% dplyr::rename(years = !!names(.)[1]) %>% filter(years < 50) %>% \n  select_if(colSums(.) != 0)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Using an external vector in selections was deprecated in tidyselect 1.1.0.\nâ„¹ Please use `all_of()` or `any_of()` instead.\n  # Was:\n  data %>% select(vec)\n\n  # Now:\n  data %>% select(all_of(vec))\n\nSee <https://tidyselect.r-lib.org/reference/faq-external-vector.html>.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsoftware  %>% \n  select_if(colSums(.) > 10) %>%  dplyr::select(years, EEGLAB) %>% \n  ggplot(., aes(x=as.factor(EEGLAB), y=years)) + \n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsoftware  %>% \n  select_if(colSums(.) > 10) %>%  dplyr::select(years, FieldTrip) %>% \n  ggplot(., aes(x=as.factor(FieldTrip), y=years)) + \n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\nsoftware  %>% \n  select_if(colSums(.) > 10) %>%  dplyr::select(years, \"MNE-Python\") %>% \n  ggplot(., aes(x=as.factor(`MNE-Python`), y=years)) + \n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-6-3.png){width=672}\n:::\n\n```{.r .cell-code}\nsoftware  %>% \n  select_if(colSums(.) > 10) %>%  dplyr::select(years, Brainstorm) %>% \n  ggplot(., aes(x=as.factor(Brainstorm), y=years)) + \n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-6-4.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\na <- software  %>% \n  select_if(colSums(.) > 10) \n\nres <- a %>%  dplyr::select(years, BESA) %>% \n  group_by(BESA) %>% dplyr::summarise(mean(years)) %>% dplyr::rename(., Usage = BESA,BESA = `mean(years)`)\n\ncn <- colnames(a[3:length(a)])\nfor (i in 1:length(cn)){\n  tmp <- a %>%  dplyr::select(years, cn[i]) %>% \n  group_by_at(2) %>% dplyr::summarise( mean(years)) %>%  dplyr::select(-1)\n  colnames(tmp) <- cn[i] \n  res <- cbind(res, tmp) \n  \n  \n  print(cn[i])\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Brainstorm\"\n[1] \"Brain Vision An.. \"\n[1] \"EEGLAB\"\n[1] \"ERPLAB\"\n[1] \"FieldTrip\"\n[1] \"LIMO\"\n[1] \"MNE-Python\"\n[1] \"SPM\"\n```\n:::\n\n```{.r .cell-code}\nres %>% t()  %>%\n  row_to_names(row_number = 1) %>% data.frame() %>% dplyr::rename(., not_used = X0, used = X1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                   not_used      used\nBESA               7.684524  8.583333\nBrainstorm         7.543624  8.709677\nBrain Vision An..  7.757143  7.700000\nEEGLAB             6.271429  8.681818\nERPLAB             7.388889  9.166667\nFieldTrip          7.526042  7.994048\nLIMO               7.485030 11.076923\nMNE-Python         8.215596  7.021127\nSPM                7.651235  8.583333\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nny <- merge(data.frame(rowSums(software)), data[20]) %>% \n   rename_at(vars(colnames(.)), ~ c(\"n_soft\", \"years\")) %>% filter(years < 50) \n\nny %>% \n  lm(data=., n_soft ~ years) %>% summary(.)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = n_soft ~ years, data = .)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-8.839 -4.339 -1.339  2.661 22.661 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 1.034e+01  5.900e-02   175.2   <2e-16 ***\nyears       2.363e-16  6.119e-03     0.0        1    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.326 on 32398 degrees of freedom\nMultiple R-squared:  1.978e-26,\tAdjusted R-squared:  -3.087e-05 \nF-statistic: 6.41e-22 on 1 and 32398 DF,  p-value: 1\n```\n:::\n\n```{.r .cell-code}\nny %>% plot(.)\n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\nmerge(data.frame(rowSums(software)), data[21]) %>% \n   rename_at(vars(colnames(.)), ~ c(\"n_soft\", \"selfass\")) %>% \n  lm(data=., n_soft ~ selfass) %>% summary(.)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = n_soft ~ selfass, data = .)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-8.839 -4.339 -1.339  2.661 22.661 \n\nCoefficients:\n                      Estimate Std. Error t value Pr(>|t|)    \n(Intercept)          1.034e+01  1.082e-01   95.58   <2e-16 ***\nselfassExpert       -1.194e-14  1.214e-01    0.00        1    \nselfassIntermediate -1.975e-14  1.190e-01    0.00        1    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.326 on 32757 degrees of freedom\nMultiple R-squared:  1.333e-27,\tAdjusted R-squared:  -6.106e-05 \nF-statistic: 2.183e-23 on 2 and 32757 DF,  p-value: 1\n```\n:::\n:::\n\n\n## In search of single variable representing experience \n\n\n\n\n\n\n<!-- ```{r} -->\n<!-- cov(short) -->\n<!-- fit <- factanal(~ ., data = short, factors = 1,  rotation = \"varimax\", na.action = na.exclude) -->\n<!-- fa.diagram(fit$loadings) -->\n<!-- ``` -->\n\n\n\n<!-- ```{r} -->\n<!-- library(FactoMineR) -->\n<!-- library(psych) -->\n\n\n<!-- res.mfa <-MFA(exp_data, group = c(2, 3), type = c(\"s\", \"n\"),  -->\n<!--      ind.sup = NULL, name.group = c(\"cont\", \"cat\"), num.group.sup = NULL,  -->\n<!--      graph = TRUE) -->\n<!-- group <- get_mfa_var(res.mfa, \"group\") -->\n<!-- group -->\n<!-- fviz_mfa_var(res.mfa, \"group\") -->\n<!-- ``` -->\n\n\n<!-- ```{r} -->\n<!-- cortest.bartlett(exp_data[1:2]) -->\n<!-- ``` -->\n\n<!-- ```{r} -->\n<!-- library(\"factoextra\") -->\n<!-- m = FAMD(exp_data[1:4],ncp=2,axes=c(1,2)) -->\n<!-- m$ind -->\n\n<!-- ``` -->\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggpairs(exp_data[1:2]) \n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggpairs(exp_data[4:5]) \n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggpairs(exp_data[3:5]) \n```\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggpairs(exp_data) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output-display}\n![](connections_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "connections_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}